{% extends "card_base.html" %}
{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/board.css') }}">
<style>
  .card{position:relative;width:80px;aspect-ratio:2/3;background-size:cover;background-position:center;border-radius:6px;cursor:pointer;transition:transform .18s ease,box-shadow .18s ease;}
  .card:hover{transform:scale(1.3);z-index:100;box-shadow:0 6px 16px rgba(0,0,0,.35);}
</style>
{% endblock %}

{% block content %}
<h1 class="text-center mb-4">圍棋！卡牌對戰！</h1>
<div class="game-layout">
  <div class="main-panel">
    <canvas id="board" width="570" height="570" style="border:1px solid #000;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.2)"></canvas>
    <div class="info-bar mt-2 flex items-center gap-4">
      <p class="m-0"><strong>目前輪到：</strong> <span id="turn-indicator">⚫ 玩家(黑)</span></p>
      <p class="m-0">能量：<span id="energy-value">2</span>/<span id="energy-max">2</span></p>
    </div>
    <p id="error-msg" class="text-red-600 h-6"></p>
    <section class="battle-actions flex gap-2 mt-2">
      <button class="btn" id="btn-pass">結束回合</button>
      <button class="btn" id="btn-reset">重設棋盤</button>
    </section>
  </div>
</div>
{% endblock %}
{% block script_extra %}
<script type="module" src="{{ url_for('static', filename='js/card_battle.js') }}"></script>
{% endblock %}